(function () { const root = document.body; const key = "fx-theme"; function apply(theme) { root.classList.remove("theme-startrek", "theme-starwars", "theme-cyberpunk"); root.classList.add("theme-" + theme); try { localStorage.setItem(key, theme); } catch (_) {} const meta = document.querySelector('meta[name="theme-color"]'); if (meta) { const styles = getComputedStyle(document.body); meta.setAttribute("content", styles.getPropertyValue("--acc1").trim() || "#00d2ff"); } } const url = new URL(location.href); const fromQuery = url.searchParams.get("theme"); const saved = localStorage.getItem(key); apply((fromQuery || saved || "startrek").toLowerCase()); document.querySelectorAll(".theme-btn").forEach(btn => { btn.addEventListener("click", () => apply(btn.dataset.theme)); }); const back = document.getElementById("backTop"); if (back) { back.addEventListener("click", (e) => { e.preventDefault(); window.scrollTo({ top: 0, behavior: "smooth" }); }); } })();