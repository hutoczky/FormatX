/* FormatX – Több téma (LCARS alapértelmezett, Cyberpunk, Star Wars, Stargate)
   Megjegyzés: franchise-ok által ihletett stílusok, védjegyek/logók nélkül. */

:root {
  --transition-fast: 160ms ease-out;
  --transition-med: 260ms ease;
  --radius: 10px;
  --panel-alpha: 0.85;
  --shadow-1: 0 8px 24px rgba(0,0,0,0.28);
  --shadow-soft: 0 6px 18px rgba(0,0,0,0.18);

  /* Alap LCARS-ihletés fallback (ha nincs kijelölt téma) */
  --bg: #0d0f1a;
  --text: #e8ecff;
  --muted: #aeb6d9;

  /* A meglévő styles.css változókhoz igazított aliasok */
  --primary: #66e0ff;
  --primary-2: #d379ff;
  --accent: #ffd166;

  /* Extra akcentek a tematikus elemekhez */
  --accent-1: #ff9966;
  --accent-2: #d379ff;
  --accent-3: #66e0ff;
  --accent-4: #ffd166;

  --panel: rgba(13,15,26,var(--panel-alpha));
  --outline: rgba(255,255,255,0.06);

  --grid: linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px),
          linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
  --grid-size: 22px 22px;
  
  /* Authentic LCARS color palette (muted tones) - global fallback */
  --lcars-amber: #FF9E66;
  --lcars-peach: #F7BFA4;
  --lcars-rose: #E08AA3;
  --lcars-lilac: #C9B3FF;
  --lcars-cyan: #7EC8FF;
  --lcars-ink: #0B0F18;
}

/* LCARS (Star Trek SNW ihletés) – alapértelmezett */
body.theme-lcars {
  --bg: #0d0f1a;
  --text: #e8ecff;
  --muted: #aeb6d9;

  --primary: #66e0ff;
  --primary-2: #d379ff;
  --accent: #ffd166;

  --accent-1: #ff9966;
  --accent-2: #d379ff;
  --accent-3: #66e0ff;
  --accent-4: #ffd166;

  --panel: rgba(13,15,26,var(--panel-alpha));
  --outline: rgba(255,255,255,0.06);
  
  /* Authentic LCARS color palette (muted tones) */
  --lcars-amber: #FF9E66;
  --lcars-peach: #F7BFA4;
  --lcars-rose: #E08AA3;
  --lcars-lilac: #C9B3FF;
  --lcars-cyan: #7EC8FF;
  --lcars-ink: #0B0F18;
}

/* Cyberpunk 2077 ihletés */
body.theme-cyberpunk {
  --bg: #0b0b0e;
  --text: #eaffff;
  --muted: #9bd0d0;

  --primary: #00fff7;  /* neon cián */
  --primary-2: #ff2a6d;/* magenta */
  --accent: #fcee09;   /* neon sárga */

  --accent-1: #fcee09;
  --accent-2: #ff2a6d;
  --accent-3: #00fff7;
  --accent-4: #ff8f00;

  --panel: rgba(11,11,14,var(--panel-alpha));
  --outline: rgba(255,255,255,0.08);
}

/* Star Wars ihletés */
body.theme-starwars {
  --bg: #05070c;
  --text: #f7f7f2;
  --muted: #c9c9bf;

  --primary: #43a0ff;  /* kék fénykard */
  --primary-2: #ff3b30;/* piros fénykard */
  --accent: #ffe81f;   /* crawl sárga */

  --accent-1: #ffe81f;
  --accent-2: #43a0ff;
  --accent-3: #ff3b30;
  --accent-4: #1ed760;

  --panel: rgba(5,7,12,var(--panel-alpha));
  --outline: rgba(255,255,255,0.07);
}

/* Stargate ihletés */
body.theme-stargate {
  --bg: #061622;
  --text: #e3f2fd;
  --muted: #a9c7db;

  --primary: #00d4ff;  /* átjáró cián */
  --primary-2: #3bb3ff;/* dhd kék */
  --accent: #ff7a00;   /* chevron narancs */

  --accent-1: #ff7a00;
  --accent-2: #3bb3ff;
  --accent-3: #00d4ff;
  --accent-4: #ffe0a3;

  --panel: rgba(6,22,34,var(--panel-alpha));
  --outline: rgba(255,255,255,0.07);
}

/* Globális háttér finom rács és fényfoltok */
html, body { height: 100%; }
body {
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(255,255,255,0.05), transparent 45%),
    radial-gradient(800px 400px at 90% 110%, rgba(255,255,255,0.04), transparent 50%),
    var(--grid),
    var(--bg);
  background-size: auto, auto, var(--grid-size), auto;
  color: var(--text);
  transition: background-color var(--transition-med), color var(--transition-med), filter var(--transition-fast);
}

/* Téma kapcsoló UI (jobb felső sarok, fix) */
#theme-switcher {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 10000;
  display: flex;
  gap: 8px;
  align-items: center;
  background: var(--panel);
  border: 1px solid var(--outline);
  border-radius: 999px;
  padding: 6px 10px;
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(6px);
}
#theme-switcher label {
  font-size: 12px;
  color: var(--muted);
}
#theme-select {
  appearance: none;
  background: transparent;
  color: var(--text);
  border: 1px solid var(--outline);
  border-radius: 999px;
  padding: 6px 10px;
  outline: none;
  font-weight: 600;
}

/* Betöltési intró overlay – közös keret */
.intro { position: fixed; inset: 0; z-index: 9999; pointer-events: none; }

/* LCARS intró – színes sávok csúsznak be és ki */
.intro--lcars { background: linear-gradient(180deg, transparent 60%, rgba(0,0,0,0.35) 60% 100%), var(--bg); }
.intro--lcars::before, .intro--lcars::after {
  content: ""; position: absolute; left: -30%; width: 160%; height: 18%; border-radius: 0 40px 40px 0;
  filter: drop-shadow(0 8px 20px rgba(0,0,0,0.35)); animation: lcars-swipe 900ms ease forwards;
}
.intro--lcars::before { top: 28%; background: linear-gradient(90deg, var(--accent-1), var(--accent-2)); }
.intro--lcars::after { top: 52%; background: linear-gradient(90deg, var(--accent-3), var(--accent-4)); animation-delay: 120ms; }
@keyframes lcars-swipe { 0% { transform: translateX(0); opacity: 1; } 70% { transform: translateX(18%); opacity: 1; } 100% { transform: translateX(120%); opacity: 0; }
}

/* Cyberpunk intró – glitch/vibrálás */
.intro--cyberpunk { background: radial-gradient(600px 300px at 50% 20%, rgba(255,255,255,0.08), transparent 60%), var(--bg); animation: glitch-bg 900ms steps(6, end); }
@keyframes glitch-bg { 0% { filter: hue-rotate(0deg) saturate(1.1); } 20% { filter: hue-rotate(10deg) saturate(1.5); } 40% { filter: hue-rotate(-12deg) saturate(1.6); } 60% { filter: hue-rotate(6deg) saturate(1.4); } 80% { filter: hue-rotate(-4deg) saturate(1.3); } 100% { filter: hue-rotate(0deg) saturate(1.0); }
}
.intro--cyberpunk::before { content: ""; position: absolute; inset: 0; background: repeating-linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.05) 2px, transparent 2px 6px); mix-blend-mode: screen; animation: scanlines 900ms linear; }
@keyframes scanlines { from { transform: translateY(-12px); opacity: 1; } to   { transform: translateY(12px); opacity: 0; }
}

/* Star Wars intró – „hyperspace streaks” */
.intro--starwars { background: radial-gradient(600px 300px at 50% 10%, rgba(255,255,255,0.06), transparent 60%), var(--bg); }
.intro--starwars::before { content: ""; position: absolute; inset: 0; background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.2), transparent 30%), repeating-linear-gradient(90deg, rgba(255,255,255,0.9) 0 2px, transparent 2px 6px); transform: scaleX(0.1); opacity: 0; animation: hyperspace 850ms ease forwards; }
@keyframes hyperspace { 0% { transform: scaleX(0.1); opacity: 0; } 40% { transform: scaleX(8); opacity: 1; } 100% { transform: scaleX(0.6); opacity: 0; }
}

/* Stargate intró – vízfelszín hullám */
.intro--stargate { background: var(--bg); overflow: hidden; }
.intro--stargate::before { content: ""; position: absolute; width: 180vmax; height: 180vmax; left: 50%; top: 50%; transform: translate(-50%, -50%) scale(0.7); background: radial-gradient(circle, rgba(0,212,255,0.35) 0%, rgba(0,212,255,0.18) 25%, rgba(0,212,255,0.08) 50%, transparent 70%); border-radius: 50%; animation: ripple 1100ms ease-out forwards; box-shadow: 0 0 60px rgba(0,212,255,0.25), inset 0 0 60px rgba(0,212,255,0.18); }
@keyframes ripple { 0%   { transform: translate(-50%, -50%) scale(0.6); opacity: 1; } 60%  { transform: translate(-50%, -50%) scale(1.05); opacity: 0.9; } 100% { transform: translate(-50%, -50%) scale(1.2); opacity: 0; }
}

/* Star Wars „starfield” réteg (csak ebben a témában jelenjen meg) */
body.theme-starwars .space { position: fixed; inset: 0; z-index: -1; background: transparent; pointer-events: none; }
body.theme-starwars .space::before { content: ""; position: absolute; inset: 0; background: radial-gradient(1px 1px at 10% 20%, #fff 60%, transparent 61%), radial-gradient(1px 1px at 30% 80%, #fff 60%, transparent 61%), radial-gradient(1px 1px at 60% 50%, #fff 60%, transparent 61%), radial-gradient(1px 1px at 80% 30%, #fff 60%, transparent 61%), radial-gradient(1px 1px at 20% 60%, #fff 60%, transparent 61%); opacity: 0.7; animation: twinkle 2200ms infinite ease-in-out alternate; }
@keyframes twinkle { from { opacity: 0.4; } to { opacity: 0.9; }
}

/* Mozgáscsökkentés támogatása */
@media (prefers-reduced-motion: reduce) { .intro, .intro::before, .intro::after { animation: none !important; } }

/* Finom átmenetek a főbb blokkoknál */
header, nav, footer, section, article { transition: background var(--transition-med), border-color var(--transition-med), color var(--transition-med); }