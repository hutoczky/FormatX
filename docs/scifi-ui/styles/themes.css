:root{
  --cyan:#2EE6FF;
  --cyan-soft:#90F0FF;
  --amber:#FF9A3C;
  --amber-hi:#FFD79A;
  --magenta:#8C6AFF;

  /* Capsule geometry */
  --chip-border:3px;
  --chip-radius:999px;
  --chip-pad-y:10px;
  --chip-pad-x:18px;
}

/* Per-theme accents */
[data-theme="lcars"]    { --accent:var(--amber);   --accent-2:var(--magenta); --border:var(--amber) }
[data-theme="starwars"] { --accent:var(--cyan);    --accent-2:var(--cyan-soft); --border:var(--cyan) }
[data-theme="cyberpunk"]{ --accent:#FF2EC0;        --accent-2:#FFD500; --border:#FF2EC0 }

/* Theme switcher: thicker outline, consistent padding */
.switcher .theme{
  display:inline-flex; align-items:center; justify-content:center;
  border:var(--chip-border) solid color-mix(in oklab, var(--border), #000 20%);
  border-radius:var(--chip-radius);
  padding:var(--chip-pad-y) var(--chip-pad-x);
  font-weight:800; letter-spacing:.02em;
  background:transparent; color:#e9e1d6;
  box-shadow:0 1px 0 rgba(255,255,255,.05) inset;
}
.switcher .theme + .theme{ margin-left:12px }

/* Selected theme's chip is filled; others outlined */
:root[data-theme="lcars"] .switcher .theme[data-theme="lcars"]{
  background:linear-gradient(180deg, var(--amber), color-mix(in oklab, var(--amber), #000 18%));
  border-color:var(--amber); color:#141518; text-shadow:0 1px 0 rgba(255,255,255,.15);
}
:root[data-theme="lcars"] .switcher .theme[data-theme="starwars"]{ border-color:var(--amber); color:#ffdebf }
:root[data-theme="lcars"] .switcher .theme[data-theme="cyberpunk"]{ border-color:var(--magenta); color:#ffe8ff }

:root[data-theme="starwars"] .switcher .theme[data-theme="starwars"]{
  background:linear-gradient(180deg, var(--cyan), color-mix(in oklab, var(--cyan), #000 25%));
  border-color:var(--cyan); color:#0b1a21; text-shadow:0 1px 0 rgba(255,255,255,.12);
}
:root[data-theme="starwars"] .switcher .theme[data-theme="lcars"]{ border-color:var(--cyan); color:#c6f3ff }
:root[data-theme="starwars"] .switcher .theme[data-theme="cyberpunk"]{ border-color:var(--cyan-soft); color:#d7f8ff }

:root[data-theme="cyberpunk"] .switcher .theme[data-theme="cyberpunk"]{
  background:linear-gradient(180deg, #FF2EC0, color-mix(in oklab, #FF2EC0, #000 20%));
  border-color:#FF2EC0; color:#1a0b18; text-shadow:0 1px 0 rgba(255,255,255,.12);
}
:root[data-theme="cyberpunk"] .switcher .theme[data-theme="lcars"]{ border-color:#FF2EC0; color:#ffd0f1 }
:root[data-theme="cyberpunk"] .switcher .theme[data-theme="starwars"]{ border-color:#20E0FF; color:#c8fbff }

/* Hover/active micro feedback */
.switcher .theme:hover{ filter:saturate(1.05) brightness(1.02) }
.switcher .theme:active{ transform:translateY(1px) }

/* Decorative layers (safe) */
.fx.holo-grid{ position:fixed; inset:0; opacity:.22; mix-blend-mode:screen; pointer-events:none }
.fx.glitch-overlay{ position:fixed; inset:0; pointer-events:none; mix-blend-mode:screen; opacity:.25 }

/* Motion safety guards */
@media (prefers-reduced-motion:reduce){
  [data-anim]{ animation:none!important; transition:none!important }
}
.reduce-motion, .reduce-motion *, .reduce-motion *::before, .reduce-motion *::after{
  animation:none!important; transition:none!important
}

/* Ensure hero decorative progress never animates (all themes) */
.hero .progress .bar{ animation:none!important }

/* Focus rings */
:where(a,button,.chip,.pill):focus-visible{
  outline:3px solid color-mix(in oklab, var(--accent), #fff 8%);
  outline-offset:3px; border-radius:12px;
}

/* Shared CTA/capsule base */
.chip,.pill{
  display:inline-flex; align-items:center; justify-content:center;
  border:var(--chip-border) solid color-mix(in oklab, var(--border), #000 18%);
  border-radius:var(--chip-radius);
  padding:var(--chip-pad-y) var(--chip-pad-x);
  font-weight:800; letter-spacing:.02em;
  background:transparent; color:#e8ddcf;
}

/* --- HERO PRIMARY CHIPS — FORCE FILLED PER THE MOCKS --- */
:root[data-theme="lcars"] .hero .chips .chip{
  background:linear-gradient(180deg, var(--amber), color-mix(in oklab, var(--amber), #000 18%)) !important;
  color:#1a1203 !important; border-color:var(--amber) !important;
}
:root[data-theme="lcars"] .hero .chips .chip:nth-child(3){
  background:linear-gradient(180deg, var(--magenta), color-mix(in oklab, var(--magenta), #000 15%)) !important;
  color:#1b0f1e !important; border-color:var(--magenta) !important;
}

:root[data-theme="starwars"] .hero .chips .chip{
  background:linear-gradient(180deg, var(--cyan), color-mix(in oklab, var(--cyan), #000 25%)) !important;
  color:#0b1a21 !important; border-color:var(--cyan) !important;
}

:root[data-theme="cyberpunk"] .hero .chips .chip{
  background:linear-gradient(180deg, #FF2EC0, color-mix(in oklab, #FF2EC0, #000 20%)) !important;
  color:#1a0b18 !important; border-color:#FF2EC0 !important;
}

/* === APPEND — HERO + DOWNLOADS PER MOCKS (LCARS/StarWars/Cyberpunk) === */

/* HERO PRIMARY CHIPS — add solid fallback then gradient to ensure filled in older browsers */
:root[data-theme="lcars"] .hero .chips .chip{
  background: var(--amber) !important; /* fallback */
  color:#1a1203 !important; border-color:var(--amber) !important;
  background: linear-gradient(180deg, var(--amber), color-mix(in oklab, var(--amber), #000 18%)) !important;
}
:root[data-theme="lcars"] .hero .chips .chip:nth-child(3){
  background: var(--magenta) !important; /* fallback */
  color:#1b0f1e !important; border-color:var(--magenta) !important;
  background: linear-gradient(180deg, var(--magenta), color-mix(in oklab, var(--magenta), #000 15%)) !important;
}
:root[data-theme="starwars"] .hero .chips .chip{
  background: var(--cyan) !important; /* fallback */
  color:#0b1a21 !important; border-color:var(--cyan) !important;
  background: linear-gradient(180deg, var(--cyan), color-mix(in oklab, var(--cyan), #000 25%)) !important;
}
:root[data-theme="cyberpunk"] .hero .chips .chip{
  background: #FF2EC0 !important; /* fallback */
  color:#1a0b18 !important; border-color:var(--FF2EC0) !important;
  background: linear-gradient(180deg, #FF2EC0, color-mix(in oklab, #FF2EC0, #000 20%)) !important;
}

/* DOWNLOADS CTA ROW — filled per mocks */
:root[data-theme="lcars"] .panel.downloads + .cta-row .chip.cta-speed{
  background: var(--amber) !important;
  color:#1a1203 !important; border-color:var(--amber) !important;
  background: linear-gradient(180deg, var(--amber), color-mix(in oklab, var(--amber), #000 18%)) !important;
}
:root[data-theme="lcars"] .panel.downloads + .cta-row .chip.cta-ext{
  background: var(--amber-hi) !important;
  color:#1a1203 !important; border-color: color-mix(in oklab, var(--amber), #000 12%) !important;
  background: linear-gradient(90deg, var(--amber), var(--amber-hi)) !important;
}
:root[data-theme="lcars"] .panel.downloads + .cta-row .chip.cta-web{
  background: var(--magenta) !important;
  color:#1b0f1e !important; border-color:var(--magenta) !important;
  background: linear-gradient(180deg, var(--magenta), color-mix(in oklab, var(--magenta), #000 15%)) !important;
}

/* Star Wars CTA: all cyan, filled */
:root[data-theme="starwars"] .panel.downloads + .cta-row .chip{
  background: var(--cyan) !important;
  color:#0b1a21 !important; border-color:var(--cyan) !important;
  background: linear-gradient(180deg, var(--cyan), color-mix(in oklab, var(--cyan), #000 22%)) !important;
}

/* Cyberpunk CTA: all magenta, filled */
:root[data-theme="cyberpunk"] .panel.downloads + .cta-row .chip{
  background: #FF2EC0 !important;
  color:#1a0b18 !important; border-color:FF2EC0 !important;
  background: linear-gradient(180deg, #FF2EC0, color-mix(in oklab, #FF2EC0, #000 20%)) !important;
}

/* LCARS SMALL RIGHT CARDS — README + WEB UI filled (matches mock) */
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(3),
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(5){
  background: var(--amber) !important; /* fallback */
  color:#1a1203 !important; border-color:var(--amber) !important;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(3) h3,
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(5) h3{ color:#1a1203 !important }
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(3) .muted,
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(5) .muted{ color:#2d1b05 !important }
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(3) .pill,
:root[data-theme="lcars"] .downloads-grid > .card:nth-child(5) .pill{
  background:#1a1203 !important; color:var(--amber) !important;
  border-color: color-mix(in oklab, #1a1203, #000 20%) !important;
}